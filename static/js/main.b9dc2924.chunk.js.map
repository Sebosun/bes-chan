{"version":3,"sources":["components/UI/HideElement.module.css","components/UI/ExpandThread.module.css","components/UI/Image.module.css","components/UI/Button.module.css","components/UI/Image.js","components/Post.js","components/UI/Button.js","components/PostForm.js","components/UI/Roller.js","components/ShowPostForm.js","components/UI/HideElement.js","components/UI/ExpandThread.js","components/Thread.js","components/Threads.js","components/Header.js","components/pages/SingleThread.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Image","props","useState","maxHeight","imgSize","setImgSize","onClick","src","className","styles","postImage","style","Post","image","id","title","time","toDate","toDateString","toLocaleTimeString","clickReply","postNo","text","Button","button","children","PostForm","name","setName","setText","setTitle","setImage","incrPostNo","a","db","firebase","firestore","increment","FieldValue","collection","doc","update","getNo","get","then","exists","data","resetToDefault","addNewThread","imageName","thread","add","user","created","serverTimestamp","onSubmit","openCloseForm","catch","error","onFileChange","e","target","files","onPostSubmit","preventDefault","file","storageRef","storage","ref","fileRef","child","put","getDownloadURL","url","placeholder","value","type","onChange","maxLength","required","Roller","ShowPostForm","showForm","setShowForm","isLoading","setIsLoading","prevState","prev","HideElement","hideContainer","square","ExpandThread","expandThread","expand","Thread","postsCol","setPostsCol","replyVisible","setReplyVisible","threadVisible","setThreadVisible","textOfHideThread","setTextOfHideThread","threadExpansion","setThreadExpansion","threadSize","setThreadSize","getPostsFromThread","orderBy","limit","onSnapshot","serverUpdate","firebasePosts","docs","map","_doc","reverse","useEffect","snap","size","hidden","to","post","index","Threads","threadArray","Header","chan","desc","SingleThread","params","useParams","threadPost","setThreadPost","where","parseInt","threadID","firebaseThreads","item","console","log","length","App","threadPosts","setThreadPosts","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b9dc2924.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"hideContainer\":\"HideElement_hideContainer__3kN_x\",\"square\":\"HideElement_square__3tvML\",\"text\":\"HideElement_text__3KNsx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"expandThread\":\"ExpandThread_expandThread__N25cj\",\"expand\":\"ExpandThread_expand__2uuWh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postImage\":\"Image_postImage__2_ySV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__6-R6B\"};","import { useState } from \"react\";\nimport styles from \"./Image.module.css\";\n\nconst Image = (props) => {\n  const [imgSize, setImgSize] = useState({\n    maxHeight: \"15vh\",\n  });\n\n  const handleImageSize = () => {\n    if (imgSize.maxHeight === \"15vh\") {\n      setImgSize({\n        maxHeight: \"45vh\",\n      });\n    } else {\n      setImgSize({\n        maxHeight: \"15vh\",\n      });\n    }\n  };\n  return (\n    <img\n      onClick={handleImageSize}\n      src={props.src}\n      className={styles.postImage}\n      style={imgSize}\n    ></img>\n  );\n};\n\nexport default Image;\n","import \"./Post.css\";\nimport Image from \"./UI/Image\";\n\nfunction Post(props) {\n  return (\n    <div className=\"Post\">\n      <div className=\"postContainer\">\n        <Image src={props.image} />\n        <div className=\"posterInfo\">\n          <div id=\"user\">Anonymous</div>\n          <div>{props.title}</div>\n          {props.time && (\n            <div>\n              {props.time.toDate().toDateString() +\n                \" \" +\n                props.time.toDate().toLocaleTimeString()}\n            </div>\n          )}\n          <div\n            className=\"postNo\"\n            onClick={() => props.clickReply(props.postNo)}\n          >\n            No. {props.postNo}\n          </div>\n        </div>\n        <p className=\"postText\">{props.text}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Post;\n","import styles from \"./Button.module.css\";\n\nconst Button = (props) => {\n  return (\n    <button onClick={props.onClick} className={styles.button}>\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"./UI/Button\";\nimport \"./PostForm.css\";\nimport { firebase } from \"@firebase/app\";\n\nfunction PostForm(props) {\n  // TODO text verification, atm you can post infinite amount of text and it looks shit, not to mention spammy\n  // TODO Captcha verification i guess\n\n  const [name, setName] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [image, setImage] = useState(null);\n\n  // increases the post number in meta collection\n  async function incrPostNo() {\n    const db = firebase.firestore();\n    const increment = firebase.firestore.FieldValue.increment(1);\n    const postNoRef = db.collection(\"meta\").doc(\"data\");\n    postNoRef.update({ postNo: increment });\n  }\n\n  //gets the postNo from the meta collection\n  function getNo() {\n    const db = firebase.firestore();\n    const data = db.collection(\"meta\").doc(\"data\");\n    const postNo = data.get().then((doc) => {\n      if (doc.exists) {\n        return doc.data().postNo;\n      } else {\n        return 0;\n      }\n    });\n\n    return postNo;\n  }\n\n  function resetToDefault() {\n    setName(\"\");\n    setText(\"\");\n    setTitle(\"\");\n    setImage(null);\n  }\n  // adds new thread to the firebase\n  // based on if its a thread reply or a new tread altogether\n  // if new thread, else post reply\n  async function addNewThread(name, text, title, imageName) {\n    const db = firebase.firestore();\n    const postNo = await getNo();\n    // by default assume its a thread, but if props.thread is false then it's a post\n    let collection = db.collection(\"board\");\n    if (props.thread === false) {\n      collection = db.collection(\"board\").doc(props.id).collection(\"posts\");\n    }\n\n    collection\n      .add({\n        user: name,\n        text: text,\n        title: title,\n        postNo: postNo,\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        image: imageName,\n      })\n      .then(() => {\n        incrPostNo().then(() => {\n          props.onSubmit();\n          props.openCloseForm();\n        });\n      })\n      .catch((error) => {});\n  }\n\n  // adds the image to the state\n  const onFileChange = (e) => {\n    setImage(e.target.files[0]);\n  };\n\n  const onNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const onPostSubmit = async (e) => {\n    e.preventDefault();\n    // props.openCloseForm();\n    props.onSubmit();\n    if (image === null) {\n      addNewThread(name, text, title, \"\");\n      resetToDefault();\n    } else {\n      const file = image;\n      const storageRef = firebase.storage().ref();\n      const fileRef = storageRef.child(file.name);\n      await fileRef.put(file);\n      fileRef.getDownloadURL().then((url) => {\n        addNewThread(name, text, title, url);\n        resetToDefault();\n      });\n    }\n  };\n\n  return (\n    <div className=\"Form\">\n      <form\n        onSubmit={(e) => {\n          onPostSubmit(e);\n        }}\n        className=\"addForm\"\n      >\n        <input\n          placeholder=\"name\"\n          value={name}\n          type=\"text\"\n          onChange={onNameChange}\n          className=\"postName\"\n          maxLength=\"25\"\n        />\n        <input\n          placeholder=\"title\"\n          value={title}\n          type=\"text\"\n          onChange={(e) => {\n            setTitle(e.target.value);\n          }}\n          className=\"postTitle\"\n          maxLength=\"30\"\n        />\n        <textarea\n          placeholder=\"comment\"\n          value={text}\n          type=\"text\"\n          onChange={(e) => {\n            setText(e.target.value);\n          }}\n          required\n          className=\"postText\"\n          maxLength=\"1000\"\n        />\n\n        {/* TODO validation of the files, making sure they're images */}\n\n        {props.thread ? (\n          <input\n            className=\"postFile\"\n            type=\"file\"\n            onChange={onFileChange}\n            required\n          />\n        ) : (\n          <input className=\"postFile\" type=\"file\" onChange={onFileChange} />\n        )}\n        <Button className=\"postSubmit\">Submit</Button>\n      </form>\n    </div>\n  );\n}\n\nexport default PostForm;\n","import \"./Roller.css\";\n\nconst Roller = (props) => {\n  return (\n    <div className=\"lds-roller\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Roller;\n","import { useState } from \"react\";\nimport PostForm from \"./PostForm\";\nimport Roller from \"./UI/Roller\";\nimport Button from \"./UI/Button\";\n\n// Receives an optional props.id, if thread is true, forwards the post form with na id to\n// the PostForm.\n// If it has post.id and thread is set to true, PostForm knows it's a reply.\n// It takes post.id and uses it to add a reply to a particular thread\nfunction ShowPostForm(props) {\n  const [showForm, setShowForm] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function openCloseForm() {\n    setShowForm((prevState) => !prevState);\n  }\n\n  const onSubmit = () => {\n    setIsLoading((prev) => !prev);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"loaderContainer\">\n        <Roller />\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        {showForm ? (\n          <div>\n            <PostForm\n              openCloseForm={openCloseForm}\n              id={props.id}\n              thread={props.thread}\n              onSubmit={onSubmit}\n            />\n            <div className=\"showButton\">\n              <Button onClick={openCloseForm}>Close</Button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"showButton\">\n            <Button onClick={openCloseForm}>\n              {`Add a ${props.thread ? \"Thread!\" : \"comment!\"}`}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ShowPostForm;\n","import styles from \"./HideElement.module.css\";\n\nconst HideElement = (props) => {\n  return (\n    <div onClick={props.onClick} className={styles.hideContainer}>\n      <button className={styles.square}></button>\n      <div className={styles.text}>{props.text}</div>\n    </div>\n  );\n};\n\nexport default HideElement;\n","import styles from \"./ExpandThread.module.css\";\n\nconst ExpandThread = (props) => {\n  return (\n    <div className={styles.expandThread}>\n      <div>Icon :^)</div>\n      <div>{props.postNo - 3} posts omitted.</div>\n      <div onClick={props.onClick} className={styles.expand}>\n        Click to expand.\n      </div>\n    </div>\n  );\n};\n\nexport default ExpandThread;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Thread.css\";\nimport Post from \"./Post.js\";\nimport { firebase } from \"@firebase/app\";\nimport { Link } from \"react-router-dom\";\nimport ShowPostForm from \"./ShowPostForm\";\nimport Image from \"./UI/Image\";\nimport HideElement from \"./UI/HideElement\";\nimport ExpandThread from \"./UI/ExpandThread\";\n\nfunction Thread(props) {\n  // TODO clicking postNo should open up form and fill it automatically with >>7\n  const [postsCol, setPostsCol] = useState([]);\n  const [replyVisible, setReplyVisible] = useState(false);\n  const [threadVisible, setThreadVisible] = useState(true);\n\n  const [textOfHideThread, setTextOfHideThread] = useState(\"close\");\n  const [threadExpansion, setThreadExpansion] = useState(false);\n  const [threadSize, setThreadSize] = useState(0);\n\n  const getNumberOfElements = () => {\n    const db = firebase.firestore();\n    db.collection(\"board\")\n      .doc(props.id)\n      .collection(\"posts\")\n      .get()\n      .then((snap) => {\n        setThreadSize(snap.size);\n      });\n  };\n  //TODO the code within those two functions is beeing repeated, could shrink it a bit\n  const getPostsFromThread = (expand) => {\n    const db = firebase.firestore();\n    let posts = [];\n    if (expand == \"expand\") {\n      posts = db\n        .collection(\"board\")\n        .doc(props.id)\n        .collection(\"posts\")\n        .orderBy(\"postNo\", \"desc\");\n    } else {\n      posts = db\n        .collection(\"board\")\n        .doc(props.id)\n        .collection(\"posts\")\n        .orderBy(\"postNo\", \"desc\")\n        .limit(3);\n    }\n\n    posts.onSnapshot((serverUpdate) => {\n      const firebasePosts = serverUpdate.docs.map((_doc) => {\n        let data = _doc.data();\n        data.id = _doc.id;\n        return data;\n      });\n      firebasePosts.reverse();\n      setPostsCol(firebasePosts);\n    });\n  };\n\n  function clickReply() {\n    setReplyVisible((prevState) => !prevState);\n  }\n\n  function onHideThread() {\n    setThreadVisible((prevState) => !prevState);\n    setTextOfHideThread((prevState) => {\n      if (prevState == \"close\") {\n        return props.user ? props.user : \"Anyonymous\";\n      } else {\n        return \"close\";\n      }\n    });\n  }\n  function onExpand() {\n    setThreadExpansion(true);\n    getPostsFromThread(\"expand\");\n  }\n\n  // onLoad get posts for a given Thread\n  useEffect(() => {\n    getNumberOfElements();\n    getPostsFromThread(\"nope\");\n  }, []);\n\n  return (\n    <div className=\"Thread\">\n      <HideElement text={textOfHideThread} onClick={onHideThread} />\n      {threadVisible && (\n        <div className=\"threadContainer\">\n          {replyVisible && (\n            <ShowPostForm hidden={true} thread={false} id={props.id} />\n          )}\n\n          <div className=\"threadInfo\">\n            <Image src={props.image} />\n            <div className=\"threadInfoContainer\">\n              <div className=\"user\" id=\"user\">\n                {props.user ? props.user : \"Anyonymous\"}\n              </div>\n              <div className=\"title\">\n                {props.title ? props.title : \"Thread\"}\n              </div>\n              {props.time ? (\n                <div className=\"time\">\n                  {props.time.toDate().toDateString() +\n                    \" \" +\n                    props.time.toDate().toLocaleTimeString()}\n                </div>\n              ) : null}\n              <Link to={`/bes-chan/thread/${props.postNo}`}>\n                No. {props.postNo}\n              </Link>\n            </div>\n            <div className=\"postText\">\n              <p>{props.text}</p>\n            </div>\n            {/* likely could be done differently, but it works so... */}\n            {threadExpansion || threadSize - 3 <= 0 ? null : (\n              <ExpandThread onClick={onExpand} postNo={threadSize} />\n            )}\n          </div>\n\n          {postsCol.map((post, index) => {\n            return (\n              <Post\n                key={post.id}\n                id={post.id}\n                postNo={post.postNo}\n                title={post.title}\n                time={post.created}\n                text={post.text}\n                image={post.image}\n                user={post.user}\n                clickReply={clickReply}\n              />\n            );\n          })}\n          <ShowPostForm thread={false} id={props.id} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Thread;\n","import Thread from \"./Thread\";\n\nconst Threads = (props) => {\n  return (\n    <div className=\"Threads\">\n      {props.threadArray.map((thread) => {\n        return (\n          <Thread\n            key={thread.id}\n            id={thread.id}\n            postNo={thread.postNo}\n            title={thread.title}\n            time={thread.created}\n            text={thread.text}\n            image={thread.image}\n            user={thread.user}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Threads;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.css\";\n\nfunction Header(props) {\n  return (\n    <div className=\"header\">\n      <Link to=\"/bes-chan/\">\n        <h1>{props.chan}</h1>\n      </Link>\n      <p>{props.desc}</p>\n    </div>\n  );\n}\n\nexport default Header;\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { firebase } from \"@firebase/app\";\n\nimport Image from \"../UI/Image\";\nimport ShowPostForm from \"../ShowPostForm\";\nimport Post from \"../Post\";\n\nconst SingleThread = () => {\n  const params = useParams();\n  const [postsCol, setPostsCol] = useState([]);\n  const [threadPost, setThreadPost] = useState([]);\n\n  useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"board\")\n      .where(\"postNo\", \"==\", parseInt(params.threadID))\n      .onSnapshot((serverUpdate) => {\n        const firebaseThreads = serverUpdate.docs.map((item) => {\n          let data = item.data();\n          data.id = item.id;\n          return data;\n        });\n        console.log(firebaseThreads);\n        // setThreadToDisplay([firebaseThreads[0]]);\n        setThreadPost(firebaseThreads);\n        getPostsFromThread(firebaseThreads[0].id);\n      });\n  }, []);\n\n  const getPostsFromThread = (id) => {\n    const db = firebase.firestore();\n    let posts = db\n      .collection(\"board\")\n      .doc(id)\n      .collection(\"posts\")\n      .orderBy(\"postNo\", \"desc\");\n\n    posts.onSnapshot((serverUpdate) => {\n      const firebasePosts = serverUpdate.docs.map((_doc) => {\n        let data = _doc.data();\n        data.id = _doc.id;\n        return data;\n      });\n      firebasePosts.reverse();\n      setPostsCol(firebasePosts);\n    });\n  };\n\n  // TODO special page where no post is found\n  if (threadPost.length === 0) {\n    return null;\n  } else {\n    return (\n      <div className=\"Thread\">\n        <div className=\"threadContainer\">\n          <div className=\"threadInfo\">\n            <Image src={threadPost[0].image} />\n            <div className=\"threadInfoContainer\">\n              <div className=\"user\" id=\"user\">\n                {threadPost[0].user ? threadPost[0].user : \"Anyonymous\"}\n              </div>\n              <div className=\"title\">\n                {threadPost[0].title ? threadPost[0].title : \"Thread\"}\n              </div>\n              {threadPost[0].created && (\n                <div className=\"time\">\n                  {threadPost[0].created.toDate().toDateString() +\n                    \" \" +\n                    threadPost[0].created.toDate().toLocaleTimeString()}\n                </div>\n              )}\n              <div>No. {threadPost[0].postNo}</div>\n            </div>\n            <div className=\"postText\">\n              <p>{threadPost[0].text}</p>\n            </div>\n            {/* likely could be done differently, but it works so... */}\n          </div>\n\n          {postsCol.map((post, index) => {\n            return (\n              <Post\n                key={index}\n                id={post.id}\n                postNo={post.postNo}\n                title={post.title}\n                time={post.created}\n                text={post.text}\n                image={post.image}\n                user={post.user}\n              />\n            );\n          })}\n          <ShowPostForm thread={false} id={threadPost[0].id} />\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default SingleThread;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { firebase } from \"@firebase/app\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Threads from \"./components/Threads\";\nimport Header from \"./components/Header\";\nimport ShowPostForm from \"./components/ShowPostForm\";\nimport SingleThread from \"./components/pages/SingleThread\";\n\n// TODO: Adress the font issue since it's pretty bad atm\n\nfunction App() {\n  const [threadPosts, setThreadPosts] = useState([]);\n\n  // gets Threas from firestore on first load\n  useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"board\")\n      .orderBy(\"created\", \"desc\")\n      .onSnapshot((serverUpdate) => {\n        const firebaseThreads = serverUpdate.docs.map((item) => {\n          let data = item.data();\n          data.id = item.id;\n          return data;\n        });\n        // setThreadToDisplay([firebaseThreads[0]]);\n        setThreadPosts(firebaseThreads);\n      });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Header chan=\"Beschan\" desc=\"A safe space for your catboy fantasies\" />\n      <Switch>\n        <Route exact path=\"/bes-chan/\">\n          <ShowPostForm thread={true} />\n          <Threads threadArray={threadPosts} />\n        </Route>\n        <Route path=\"/bes-chan/thread/:threadID\">\n          <SingleThread />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { firebase } from \"@firebase/app\";\nrequire(\"firebase/firestore\");\nrequire(\"firebase/storage\");\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA9ApQ3Mhbga323RYlXqaW8X73QWtvprAg\",\n  authDomain: \"bes-chan.firebaseapp.com\",\n  projectId: \"bes-chan\",\n  storageBucket: \"bes-chan.appspot.com\",\n  messagingSenderId: \"889845667798\",\n  appId: \"1:889845667798:web:e97a653a43abfcf0963677\",\n  measurementId: \"G-MHY6F8BPC5\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}